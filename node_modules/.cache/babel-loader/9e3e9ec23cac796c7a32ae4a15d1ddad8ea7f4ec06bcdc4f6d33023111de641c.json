{"ast":null,"code":"import { getAuthToken, isTokenExpired, refreshToken } from './auth';\nconst API_BASE_URL = 'http://localhost:8000/api';\nclass ApiClient {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n  setToken(token) {\n    // Токен теперь управляется через auth.js\n    console.log('Token set via auth.js');\n  }\n  getHeaders(includeContentType = true) {\n    const headers = {};\n    if (includeContentType) {\n      headers['Content-Type'] = 'application/json';\n    }\n    const token = getAuthToken();\n    if (token && !isTokenExpired(token)) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    return headers;\n  }\n\n  // Метод для запросов без авторизации (например, login, register)\n  async requestWithoutAuth(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n\n    // Определяем, нужно ли включать Content-Type\n    const isFormData = options.body instanceof FormData;\n    const config = {\n      headers: {\n        ...(isFormData ? {} : {\n          'Content-Type': 'application/json'\n        }),\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      console.log('Raw response status:', response.status);\n      console.log('Raw response headers:', Object.fromEntries(response.headers.entries()));\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('API Error:', {\n          status: response.status,\n          statusText: response.statusText,\n          url: url,\n          errorData: errorData\n        });\n        throw new Error(errorData.detail || errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      const responseData = await response.json();\n      console.log('Response data:', responseData);\n      return responseData;\n    } catch (error) {\n      console.error('Request failed:', error);\n      throw error;\n    }\n  }\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n\n    // Получаем актуальный токен\n    let token = getAuthToken();\n    console.log('Текущий токен:', token ? 'есть' : 'нет');\n\n    // Проверяем, не истек ли токен\n    if (token && isTokenExpired(token)) {\n      console.log('Токен истек, пытаемся обновить...');\n      try {\n        token = await refreshToken();\n        console.log('Токен обновлен успешно');\n      } catch (error) {\n        console.error('Failed to refresh token:', error);\n        throw new Error('Учетные данные не были предоставлены.');\n      }\n    }\n    if (!token) {\n      console.error('Токен отсутствует, перенаправляем на авторизацию');\n      throw new Error('Учетные данные не были предоставлены.');\n    }\n\n    // Определяем, нужно ли включать Content-Type\n    const isFormData = options.body instanceof FormData;\n    const config = {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        ...(isFormData ? {} : {\n          'Content-Type': 'application/json'\n        }),\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      console.log('Raw response status:', response.status);\n      console.log('Raw response headers:', Object.fromEntries(response.headers.entries()));\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('API Error:', {\n          status: response.status,\n          statusText: response.statusText,\n          url: url,\n          errorData: errorData\n        });\n        throw new Error(errorData.detail || errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      const responseData = await response.json();\n      console.log('Response data:', responseData);\n      return responseData;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Аутентификация\n  async register(userData) {\n    return this.requestWithoutAuth('/auth/register/', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: userData.email,\n        password: userData.password,\n        name: `${userData.firstName} ${userData.lastName} ${Date.now()}`,\n        city: userData.city || '',\n        avatar: null\n      })\n    });\n  }\n  async login(email, password) {\n    return this.requestWithoutAuth('/auth/login/', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    });\n  }\n  async getCurrentUser() {\n    return this.request('/auth/me/');\n  }\n\n  // Пользователи\n  async getUsers() {\n    return this.request('/users');\n  }\n\n  // Чаты\n  async getChats() {\n    return this.request('/chats');\n  }\n  async createChat(user2Id) {\n    return this.request('/chats', {\n      method: 'POST',\n      body: JSON.stringify({\n        user2_id: user2Id\n      })\n    });\n  }\n\n  // Сообщения\n  async getMessages(chatId) {\n    return this.request(`/chats/${chatId}/messages`);\n  }\n  async sendMessage(chatId, text) {\n    return this.request(`/chats/${chatId}/messages`, {\n      method: 'POST',\n      body: JSON.stringify({\n        text\n      })\n    });\n  }\n  async updateMessage(messageId, text) {\n    return this.request(`/messages/${messageId}`, {\n      method: 'PUT',\n      body: JSON.stringify({\n        text\n      })\n    });\n  }\n  async deleteMessage(messageId) {\n    return this.request(`/messages/${messageId}`, {\n      method: 'DELETE'\n    });\n  }\n  async uploadFile(messageId, file) {\n    const formData = new FormData();\n    formData.append('file', file);\n    return this.request(`/messages/${messageId}/files`, {\n      method: 'POST',\n      body: formData\n    });\n  }\n\n  // Методы для постов (совместимость со старым API)\n  async createPost(postData) {\n    console.log('apiClient.createPost получил данные:', postData);\n    const formData = new FormData();\n\n    // Добавляем все поля в FormData\n    Object.keys(postData).forEach(key => {\n      if (postData[key] !== null && postData[key] !== undefined) {\n        console.log(`Добавляем в FormData: ${key} = ${postData[key]}`);\n        formData.append(key, postData[key]);\n      }\n    });\n    console.log('FormData создан, отправляем запрос');\n    return this.request('/posts/create/', {\n      method: 'POST',\n      body: formData\n    });\n  }\n  async updatePost(postId, postData) {\n    const formData = new FormData();\n    Object.keys(postData).forEach(key => {\n      if (postData[key] !== null && postData[key] !== undefined) {\n        formData.append(key, postData[key]);\n      }\n    });\n    return this.request(`/posts/${postId}/update/`, {\n      method: 'PUT',\n      body: formData\n    });\n  }\n  async getPosts() {\n    return this.request('/posts/');\n  }\n  async getPost(postId) {\n    return this.request(`/posts/${postId}/`);\n  }\n  async deletePost(postId) {\n    return this.request(`/posts/${postId}/delete/`, {\n      method: 'DELETE'\n    });\n  }\n  async getCategories() {\n    return this.request('/posts/categories/');\n  }\n}\nexport const apiClient = new ApiClient();","map":{"version":3,"names":["getAuthToken","isTokenExpired","refreshToken","API_BASE_URL","ApiClient","constructor","baseURL","setToken","token","console","log","getHeaders","includeContentType","headers","requestWithoutAuth","endpoint","options","url","isFormData","body","FormData","config","response","fetch","status","Object","fromEntries","entries","ok","errorData","json","catch","error","statusText","Error","detail","message","responseData","request","register","userData","method","JSON","stringify","email","password","name","firstName","lastName","Date","now","city","avatar","login","getCurrentUser","getUsers","getChats","createChat","user2Id","user2_id","getMessages","chatId","sendMessage","text","updateMessage","messageId","deleteMessage","uploadFile","file","formData","append","createPost","postData","keys","forEach","key","undefined","updatePost","postId","getPosts","getPost","deletePost","getCategories","apiClient"],"sources":["C:/Users/Wlad/OneDrive/Desktop/kwork_site/src/utils/api.js"],"sourcesContent":["import { getAuthToken, isTokenExpired, refreshToken } from './auth';\n\nconst API_BASE_URL = 'http://localhost:8000/api';\n\nclass ApiClient {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  setToken(token) {\n    // Токен теперь управляется через auth.js\n    console.log('Token set via auth.js');\n  }\n\n  getHeaders(includeContentType = true) {\n    const headers = {};\n    \n    if (includeContentType) {\n      headers['Content-Type'] = 'application/json';\n    }\n    \n    const token = getAuthToken();\n    if (token && !isTokenExpired(token)) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n    \n    return headers;\n  }\n\n  // Метод для запросов без авторизации (например, login, register)\n  async requestWithoutAuth(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    \n    // Определяем, нужно ли включать Content-Type\n    const isFormData = options.body instanceof FormData;\n    const config = {\n      headers: {\n        ...(isFormData ? {} : { 'Content-Type': 'application/json' }),\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    try {\n      const response = await fetch(url, config);\n      console.log('Raw response status:', response.status);\n      console.log('Raw response headers:', Object.fromEntries(response.headers.entries()));\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('API Error:', {\n          status: response.status,\n          statusText: response.statusText,\n          url: url,\n          errorData: errorData\n        });\n        throw new Error(errorData.detail || errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      \n      const responseData = await response.json();\n      console.log('Response data:', responseData);\n      return responseData;\n    } catch (error) {\n      console.error('Request failed:', error);\n      throw error;\n    }\n  }\n\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    \n    // Получаем актуальный токен\n    let token = getAuthToken();\n    console.log('Текущий токен:', token ? 'есть' : 'нет');\n    \n    // Проверяем, не истек ли токен\n    if (token && isTokenExpired(token)) {\n      console.log('Токен истек, пытаемся обновить...');\n      try {\n        token = await refreshToken();\n        console.log('Токен обновлен успешно');\n      } catch (error) {\n        console.error('Failed to refresh token:', error);\n        throw new Error('Учетные данные не были предоставлены.');\n      }\n    }\n    \n    if (!token) {\n      console.error('Токен отсутствует, перенаправляем на авторизацию');\n      throw new Error('Учетные данные не были предоставлены.');\n    }\n    \n    // Определяем, нужно ли включать Content-Type\n    const isFormData = options.body instanceof FormData;\n    const config = {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        ...(isFormData ? {} : { 'Content-Type': 'application/json' }),\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    try {\n      const response = await fetch(url, config);\n      console.log('Raw response status:', response.status);\n      console.log('Raw response headers:', Object.fromEntries(response.headers.entries()));\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.error('API Error:', {\n          status: response.status,\n          statusText: response.statusText,\n          url: url,\n          errorData: errorData\n        });\n        throw new Error(errorData.detail || errorData.message || `HTTP error! status: ${response.status}`);\n      }\n      \n      const responseData = await response.json();\n      console.log('Response data:', responseData);\n      return responseData;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Аутентификация\n  async register(userData) {\n    return this.requestWithoutAuth('/auth/register/', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: userData.email,\n        password: userData.password,\n        name: `${userData.firstName} ${userData.lastName} ${Date.now()}`,\n        city: userData.city || '',\n        avatar: null\n      }),\n    });\n  }\n\n  async login(email, password) {\n    return this.requestWithoutAuth('/auth/login/', {\n      method: 'POST',\n      body: JSON.stringify({\n        email: email,\n        password: password\n      }),\n    });\n  }\n\n  async getCurrentUser() {\n    return this.request('/auth/me/');\n  }\n\n  // Пользователи\n  async getUsers() {\n    return this.request('/users');\n  }\n\n  // Чаты\n  async getChats() {\n    return this.request('/chats');\n  }\n\n  async createChat(user2Id) {\n    return this.request('/chats', {\n      method: 'POST',\n      body: JSON.stringify({ user2_id: user2Id }),\n    });\n  }\n\n  // Сообщения\n  async getMessages(chatId) {\n    return this.request(`/chats/${chatId}/messages`);\n  }\n\n  async sendMessage(chatId, text) {\n    return this.request(`/chats/${chatId}/messages`, {\n      method: 'POST',\n      body: JSON.stringify({ text }),\n    });\n  }\n\n  async updateMessage(messageId, text) {\n    return this.request(`/messages/${messageId}`, {\n      method: 'PUT',\n      body: JSON.stringify({ text }),\n    });\n  }\n\n  async deleteMessage(messageId) {\n    return this.request(`/messages/${messageId}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async uploadFile(messageId, file) {\n    const formData = new FormData();\n    formData.append('file', file);\n    \n    return this.request(`/messages/${messageId}/files`, {\n      method: 'POST',\n      body: formData,\n    });\n  }\n\n  // Методы для постов (совместимость со старым API)\n  async createPost(postData) {\n    console.log('apiClient.createPost получил данные:', postData);\n    \n    const formData = new FormData();\n    \n    // Добавляем все поля в FormData\n    Object.keys(postData).forEach(key => {\n      if (postData[key] !== null && postData[key] !== undefined) {\n        console.log(`Добавляем в FormData: ${key} = ${postData[key]}`);\n        formData.append(key, postData[key]);\n      }\n    });\n    \n    console.log('FormData создан, отправляем запрос');\n    \n    return this.request('/posts/create/', {\n      method: 'POST',\n      body: formData,\n    });\n  }\n\n  async updatePost(postId, postData) {\n    const formData = new FormData();\n    \n    Object.keys(postData).forEach(key => {\n      if (postData[key] !== null && postData[key] !== undefined) {\n        formData.append(key, postData[key]);\n      }\n    });\n    \n    return this.request(`/posts/${postId}/update/`, {\n      method: 'PUT',\n      body: formData,\n    });\n  }\n\n  async getPosts() {\n    return this.request('/posts/');\n  }\n\n  async getPost(postId) {\n    return this.request(`/posts/${postId}/`);\n  }\n\n  async deletePost(postId) {\n    return this.request(`/posts/${postId}/delete/`, {\n      method: 'DELETE',\n    });\n  }\n\n  async getCategories() {\n    return this.request('/posts/categories/');\n  }\n}\n\nexport const apiClient = new ApiClient();"],"mappings":"AAAA,SAASA,YAAY,EAAEC,cAAc,EAAEC,YAAY,QAAQ,QAAQ;AAEnE,MAAMC,YAAY,GAAG,2BAA2B;AAEhD,MAAMC,SAAS,CAAC;EACdC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACC,OAAO,GAAGH,YAAY;EAC7B;EAEAI,QAAQA,CAACC,KAAK,EAAE;IACd;IACAC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACtC;EAEAC,UAAUA,CAACC,kBAAkB,GAAG,IAAI,EAAE;IACpC,MAAMC,OAAO,GAAG,CAAC,CAAC;IAElB,IAAID,kBAAkB,EAAE;MACtBC,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB;IAC9C;IAEA,MAAML,KAAK,GAAGR,YAAY,CAAC,CAAC;IAC5B,IAAIQ,KAAK,IAAI,CAACP,cAAc,CAACO,KAAK,CAAC,EAAE;MACnCK,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUL,KAAK,EAAE;IAC9C;IAEA,OAAOK,OAAO;EAChB;;EAEA;EACA,MAAMC,kBAAkBA,CAACC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;IAC/C,MAAMC,GAAG,GAAG,GAAG,IAAI,CAACX,OAAO,GAAGS,QAAQ,EAAE;;IAExC;IACA,MAAMG,UAAU,GAAGF,OAAO,CAACG,IAAI,YAAYC,QAAQ;IACnD,MAAMC,MAAM,GAAG;MACbR,OAAO,EAAE;QACP,IAAIK,UAAU,GAAG,CAAC,CAAC,GAAG;UAAE,cAAc,EAAE;QAAmB,CAAC,CAAC;QAC7D,GAAGF,OAAO,CAACH;MACb,CAAC;MACD,GAAGG;IACL,CAAC;IAED,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEI,MAAM,CAAC;MACzCZ,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEY,QAAQ,CAACE,MAAM,CAAC;MACpDf,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEe,MAAM,CAACC,WAAW,CAACJ,QAAQ,CAACT,OAAO,CAACc,OAAO,CAAC,CAAC,CAAC,CAAC;MAEpF,IAAI,CAACL,QAAQ,CAACM,EAAE,EAAE;QAChB,MAAMC,SAAS,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACzDtB,OAAO,CAACuB,KAAK,CAAC,YAAY,EAAE;UAC1BR,MAAM,EAAEF,QAAQ,CAACE,MAAM;UACvBS,UAAU,EAAEX,QAAQ,CAACW,UAAU;UAC/BhB,GAAG,EAAEA,GAAG;UACRY,SAAS,EAAEA;QACb,CAAC,CAAC;QACF,MAAM,IAAIK,KAAK,CAACL,SAAS,CAACM,MAAM,IAAIN,SAAS,CAACO,OAAO,IAAI,uBAAuBd,QAAQ,CAACE,MAAM,EAAE,CAAC;MACpG;MAEA,MAAMa,YAAY,GAAG,MAAMf,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAC1CrB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE2B,YAAY,CAAC;MAC3C,OAAOA,YAAY;IACrB,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdvB,OAAO,CAACuB,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,MAAMA,KAAK;IACb;EACF;EAEA,MAAMM,OAAOA,CAACvB,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;IACpC,MAAMC,GAAG,GAAG,GAAG,IAAI,CAACX,OAAO,GAAGS,QAAQ,EAAE;;IAExC;IACA,IAAIP,KAAK,GAAGR,YAAY,CAAC,CAAC;IAC1BS,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;;IAErD;IACA,IAAIA,KAAK,IAAIP,cAAc,CAACO,KAAK,CAAC,EAAE;MAClCC,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;MAChD,IAAI;QACFF,KAAK,GAAG,MAAMN,YAAY,CAAC,CAAC;QAC5BO,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACvC,CAAC,CAAC,OAAOsB,KAAK,EAAE;QACdvB,OAAO,CAACuB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChD,MAAM,IAAIE,KAAK,CAAC,uCAAuC,CAAC;MAC1D;IACF;IAEA,IAAI,CAAC1B,KAAK,EAAE;MACVC,OAAO,CAACuB,KAAK,CAAC,kDAAkD,CAAC;MACjE,MAAM,IAAIE,KAAK,CAAC,uCAAuC,CAAC;IAC1D;;IAEA;IACA,MAAMhB,UAAU,GAAGF,OAAO,CAACG,IAAI,YAAYC,QAAQ;IACnD,MAAMC,MAAM,GAAG;MACbR,OAAO,EAAE;QACP,eAAe,EAAE,UAAUL,KAAK,EAAE;QAClC,IAAIU,UAAU,GAAG,CAAC,CAAC,GAAG;UAAE,cAAc,EAAE;QAAmB,CAAC,CAAC;QAC7D,GAAGF,OAAO,CAACH;MACb,CAAC;MACD,GAAGG;IACL,CAAC;IAED,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEI,MAAM,CAAC;MACzCZ,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEY,QAAQ,CAACE,MAAM,CAAC;MACpDf,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEe,MAAM,CAACC,WAAW,CAACJ,QAAQ,CAACT,OAAO,CAACc,OAAO,CAAC,CAAC,CAAC,CAAC;MAEpF,IAAI,CAACL,QAAQ,CAACM,EAAE,EAAE;QAChB,MAAMC,SAAS,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QACzDtB,OAAO,CAACuB,KAAK,CAAC,YAAY,EAAE;UAC1BR,MAAM,EAAEF,QAAQ,CAACE,MAAM;UACvBS,UAAU,EAAEX,QAAQ,CAACW,UAAU;UAC/BhB,GAAG,EAAEA,GAAG;UACRY,SAAS,EAAEA;QACb,CAAC,CAAC;QACF,MAAM,IAAIK,KAAK,CAACL,SAAS,CAACM,MAAM,IAAIN,SAAS,CAACO,OAAO,IAAI,uBAAuBd,QAAQ,CAACE,MAAM,EAAE,CAAC;MACpG;MAEA,MAAMa,YAAY,GAAG,MAAMf,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAC1CrB,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAE2B,YAAY,CAAC;MAC3C,OAAOA,YAAY;IACrB,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdvB,OAAO,CAACuB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,MAAMO,QAAQA,CAACC,QAAQ,EAAE;IACvB,OAAO,IAAI,CAAC1B,kBAAkB,CAAC,iBAAiB,EAAE;MAChD2B,MAAM,EAAE,MAAM;MACdtB,IAAI,EAAEuB,IAAI,CAACC,SAAS,CAAC;QACnBC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;QACrBC,QAAQ,EAAEL,QAAQ,CAACK,QAAQ;QAC3BC,IAAI,EAAE,GAAGN,QAAQ,CAACO,SAAS,IAAIP,QAAQ,CAACQ,QAAQ,IAAIC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE;QAChEC,IAAI,EAAEX,QAAQ,CAACW,IAAI,IAAI,EAAE;QACzBC,MAAM,EAAE;MACV,CAAC;IACH,CAAC,CAAC;EACJ;EAEA,MAAMC,KAAKA,CAACT,KAAK,EAAEC,QAAQ,EAAE;IAC3B,OAAO,IAAI,CAAC/B,kBAAkB,CAAC,cAAc,EAAE;MAC7C2B,MAAM,EAAE,MAAM;MACdtB,IAAI,EAAEuB,IAAI,CAACC,SAAS,CAAC;QACnBC,KAAK,EAAEA,KAAK;QACZC,QAAQ,EAAEA;MACZ,CAAC;IACH,CAAC,CAAC;EACJ;EAEA,MAAMS,cAAcA,CAAA,EAAG;IACrB,OAAO,IAAI,CAAChB,OAAO,CAAC,WAAW,CAAC;EAClC;;EAEA;EACA,MAAMiB,QAAQA,CAAA,EAAG;IACf,OAAO,IAAI,CAACjB,OAAO,CAAC,QAAQ,CAAC;EAC/B;;EAEA;EACA,MAAMkB,QAAQA,CAAA,EAAG;IACf,OAAO,IAAI,CAAClB,OAAO,CAAC,QAAQ,CAAC;EAC/B;EAEA,MAAMmB,UAAUA,CAACC,OAAO,EAAE;IACxB,OAAO,IAAI,CAACpB,OAAO,CAAC,QAAQ,EAAE;MAC5BG,MAAM,EAAE,MAAM;MACdtB,IAAI,EAAEuB,IAAI,CAACC,SAAS,CAAC;QAAEgB,QAAQ,EAAED;MAAQ,CAAC;IAC5C,CAAC,CAAC;EACJ;;EAEA;EACA,MAAME,WAAWA,CAACC,MAAM,EAAE;IACxB,OAAO,IAAI,CAACvB,OAAO,CAAC,UAAUuB,MAAM,WAAW,CAAC;EAClD;EAEA,MAAMC,WAAWA,CAACD,MAAM,EAAEE,IAAI,EAAE;IAC9B,OAAO,IAAI,CAACzB,OAAO,CAAC,UAAUuB,MAAM,WAAW,EAAE;MAC/CpB,MAAM,EAAE,MAAM;MACdtB,IAAI,EAAEuB,IAAI,CAACC,SAAS,CAAC;QAAEoB;MAAK,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEA,MAAMC,aAAaA,CAACC,SAAS,EAAEF,IAAI,EAAE;IACnC,OAAO,IAAI,CAACzB,OAAO,CAAC,aAAa2B,SAAS,EAAE,EAAE;MAC5CxB,MAAM,EAAE,KAAK;MACbtB,IAAI,EAAEuB,IAAI,CAACC,SAAS,CAAC;QAAEoB;MAAK,CAAC;IAC/B,CAAC,CAAC;EACJ;EAEA,MAAMG,aAAaA,CAACD,SAAS,EAAE;IAC7B,OAAO,IAAI,CAAC3B,OAAO,CAAC,aAAa2B,SAAS,EAAE,EAAE;MAC5CxB,MAAM,EAAE;IACV,CAAC,CAAC;EACJ;EAEA,MAAM0B,UAAUA,CAACF,SAAS,EAAEG,IAAI,EAAE;IAChC,MAAMC,QAAQ,GAAG,IAAIjD,QAAQ,CAAC,CAAC;IAC/BiD,QAAQ,CAACC,MAAM,CAAC,MAAM,EAAEF,IAAI,CAAC;IAE7B,OAAO,IAAI,CAAC9B,OAAO,CAAC,aAAa2B,SAAS,QAAQ,EAAE;MAClDxB,MAAM,EAAE,MAAM;MACdtB,IAAI,EAAEkD;IACR,CAAC,CAAC;EACJ;;EAEA;EACA,MAAME,UAAUA,CAACC,QAAQ,EAAE;IACzB/D,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAE8D,QAAQ,CAAC;IAE7D,MAAMH,QAAQ,GAAG,IAAIjD,QAAQ,CAAC,CAAC;;IAE/B;IACAK,MAAM,CAACgD,IAAI,CAACD,QAAQ,CAAC,CAACE,OAAO,CAACC,GAAG,IAAI;MACnC,IAAIH,QAAQ,CAACG,GAAG,CAAC,KAAK,IAAI,IAAIH,QAAQ,CAACG,GAAG,CAAC,KAAKC,SAAS,EAAE;QACzDnE,OAAO,CAACC,GAAG,CAAC,yBAAyBiE,GAAG,MAAMH,QAAQ,CAACG,GAAG,CAAC,EAAE,CAAC;QAC9DN,QAAQ,CAACC,MAAM,CAACK,GAAG,EAAEH,QAAQ,CAACG,GAAG,CAAC,CAAC;MACrC;IACF,CAAC,CAAC;IAEFlE,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IAEjD,OAAO,IAAI,CAAC4B,OAAO,CAAC,gBAAgB,EAAE;MACpCG,MAAM,EAAE,MAAM;MACdtB,IAAI,EAAEkD;IACR,CAAC,CAAC;EACJ;EAEA,MAAMQ,UAAUA,CAACC,MAAM,EAAEN,QAAQ,EAAE;IACjC,MAAMH,QAAQ,GAAG,IAAIjD,QAAQ,CAAC,CAAC;IAE/BK,MAAM,CAACgD,IAAI,CAACD,QAAQ,CAAC,CAACE,OAAO,CAACC,GAAG,IAAI;MACnC,IAAIH,QAAQ,CAACG,GAAG,CAAC,KAAK,IAAI,IAAIH,QAAQ,CAACG,GAAG,CAAC,KAAKC,SAAS,EAAE;QACzDP,QAAQ,CAACC,MAAM,CAACK,GAAG,EAAEH,QAAQ,CAACG,GAAG,CAAC,CAAC;MACrC;IACF,CAAC,CAAC;IAEF,OAAO,IAAI,CAACrC,OAAO,CAAC,UAAUwC,MAAM,UAAU,EAAE;MAC9CrC,MAAM,EAAE,KAAK;MACbtB,IAAI,EAAEkD;IACR,CAAC,CAAC;EACJ;EAEA,MAAMU,QAAQA,CAAA,EAAG;IACf,OAAO,IAAI,CAACzC,OAAO,CAAC,SAAS,CAAC;EAChC;EAEA,MAAM0C,OAAOA,CAACF,MAAM,EAAE;IACpB,OAAO,IAAI,CAACxC,OAAO,CAAC,UAAUwC,MAAM,GAAG,CAAC;EAC1C;EAEA,MAAMG,UAAUA,CAACH,MAAM,EAAE;IACvB,OAAO,IAAI,CAACxC,OAAO,CAAC,UAAUwC,MAAM,UAAU,EAAE;MAC9CrC,MAAM,EAAE;IACV,CAAC,CAAC;EACJ;EAEA,MAAMyC,aAAaA,CAAA,EAAG;IACpB,OAAO,IAAI,CAAC5C,OAAO,CAAC,oBAAoB,CAAC;EAC3C;AACF;AAEA,OAAO,MAAM6C,SAAS,GAAG,IAAI/E,SAAS,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}