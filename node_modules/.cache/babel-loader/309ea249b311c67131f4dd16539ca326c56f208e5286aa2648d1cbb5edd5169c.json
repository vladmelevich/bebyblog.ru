{"ast":null,"code":"// Утилита для работы с пользователями\n\n// Тестовая функция для получения моковых данных пользователя\nexport const getMockUserInfo = userId => {\n  console.log('Используем моковые данные для пользователя:', userId);\n\n  // Проверяем, что userId существует и является числом\n  if (!userId || isNaN(Number(userId))) {\n    console.warn('Некорректный userId:', userId, 'используем значение по умолчанию');\n    userId = 1;\n  }\n\n  // Создаем более реалистичные моковые данные\n  const mockNames = ['Анна', 'Мария', 'Елена', 'Ольга', 'Татьяна', 'Наталья', 'Ирина', 'Светлана', 'Александр', 'Дмитрий', 'Сергей', 'Андрей', 'Алексей', 'Максим', 'Владимир', 'Иван'];\n  const mockCities = ['Москва', 'Санкт-Петербург', 'Новосибирск', 'Екатеринбург', 'Казань', 'Нижний Новгород', 'Челябинск', 'Самара', 'Ростов-на-Дону', 'Уфа', 'Красноярск', 'Пермь'];\n\n  // Генерируем имя на основе ID для консистентности\n  const nameIndex = Number(userId) % mockNames.length;\n  const cityIndex = Number(userId) % mockCities.length;\n  const mockUser = {\n    id: userId,\n    name: mockNames[nameIndex],\n    username: `user_${userId}`,\n    avatar: null,\n    city: mockCities[cityIndex],\n    isOnline: false\n  };\n  console.log('Создан моковый пользователь:', mockUser);\n  return mockUser;\n};\n\n// Функция для синхронизации данных между страницами\nexport const syncUserDataFromProfile = (userId, profileData) => {\n  try {\n    if (profileData && profileData.user) {\n      const user = profileData.user;\n      const userInfo = {\n        id: userId,\n        name: user.first_name || user.username || `Пользователь ${userId}`,\n        avatar: user.avatar || null,\n        city: user.city || 'Не указан'\n      };\n      console.log('Синхронизируем данные пользователя из профиля:', userInfo);\n      console.log('Аватар пользователя:', user.avatar);\n      console.log('Имя пользователя:', user.first_name || user.username);\n\n      // Сохраняем в localStorage\n      saveUserInfoToStorage(userInfo);\n      return userInfo;\n    }\n  } catch (error) {\n    console.error('Ошибка при синхронизации данных пользователя:', error);\n  }\n  return null;\n};\n\n// Функция для получения информации о пользователе из localStorage (если есть)\nexport const getUserInfoFromStorage = userId => {\n  try {\n    // Пытаемся найти информацию о пользователе в localStorage\n    const storedUsers = localStorage.getItem('userProfiles');\n    if (storedUsers) {\n      const users = JSON.parse(storedUsers);\n      const user = users.find(u => u.id == userId);\n      if (user) {\n        console.log('Найдена информация о пользователе в localStorage:', user);\n        return {\n          id: user.id,\n          name: user.first_name || user.username || `Пользователь ${userId}`,\n          avatar: user.avatar || null,\n          city: user.city || 'Не указан'\n        };\n      }\n    }\n  } catch (error) {\n    console.error('Ошибка при получении информации из localStorage:', error);\n  }\n  return null;\n};\n\n// Функция для сохранения информации о пользователе в localStorage\nexport const saveUserInfoToStorage = userInfo => {\n  try {\n    const storedUsers = localStorage.getItem('userProfiles') || '{}';\n    const users = JSON.parse(storedUsers);\n    users[userInfo.id] = userInfo;\n    localStorage.setItem('userProfiles', JSON.stringify(users));\n    console.log('Информация о пользователе сохранена в localStorage:', userInfo);\n  } catch (error) {\n    console.error('Ошибка при сохранении в localStorage:', error);\n  }\n};\n\n// Получить информацию о пользователе по ID\nexport const getUserInfo = async userId => {\n  try {\n    console.log('Получаем информацию о пользователе:', userId);\n\n    // Сначала проверяем localStorage\n    const storedUserInfo = getUserInfoFromStorage(userId);\n    if (storedUserInfo && storedUserInfo.name && storedUserInfo.name !== `Пользователь ${userId}`) {\n      console.log('Используем информацию из localStorage:', storedUserInfo);\n      return storedUserInfo;\n    }\n\n    // Делаем API-запрос для получения реальных данных\n    console.log('Делаем API-запрос к профилю пользователя...');\n\n    // Используем тот же endpoint, что и в UserProfilePage\n    const response = await fetch(`http://localhost:8000/api/users/profile-with-posts/${userId}/`, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    console.log('Ответ API профиля:', response.status, response.statusText);\n    if (response.ok) {\n      const data = await response.json();\n      console.log('Данные профиля пользователя:', data);\n      if (data.success && data.user) {\n        const user = data.user;\n        const userInfo = {\n          id: userId,\n          name: user.first_name || user.username || `Пользователь ${userId}`,\n          avatar: user.avatar || null,\n          city: user.city || 'Не указан'\n        };\n        console.log('Создана информация о пользователе:', userInfo);\n\n        // Сохраняем полученную информацию в localStorage\n        saveUserInfoToStorage(userInfo);\n        return userInfo;\n      } else if (data.user) {\n        // Если нет поля success, но есть user\n        const user = data.user;\n        const userInfo = {\n          id: userId,\n          name: user.first_name || user.username || `Пользователь ${userId}`,\n          avatar: user.avatar || null,\n          city: user.city || 'Не указан'\n        };\n        console.log('Создана информация о пользователе (без success):', userInfo);\n        saveUserInfoToStorage(userInfo);\n        return userInfo;\n      }\n    }\n\n    // Если API не сработал, возвращаем базовую информацию\n    console.log('API не вернул данные, возвращаем базовую информацию');\n    const basicUserInfo = {\n      id: userId,\n      name: `Пользователь ${userId}`,\n      avatar: null,\n      city: 'Не указан'\n    };\n    return basicUserInfo;\n  } catch (error) {\n    console.error('Ошибка при получении информации о пользователе:', error);\n    console.log('Возвращаем базовую информацию из-за ошибки');\n    const basicUserInfo = {\n      id: userId,\n      name: `Пользователь ${userId}`,\n      avatar: null,\n      city: 'Не указан'\n    };\n    return basicUserInfo;\n  }\n};\n\n// Получить инициалы пользователя\nexport const getUserInitials = userName => {\n  var _names$, _names$2;\n  if (!userName) return 'А';\n  const names = userName.split(' ');\n  return `${((_names$ = names[0]) === null || _names$ === void 0 ? void 0 : _names$.charAt(0)) || 'А'}${((_names$2 = names[1]) === null || _names$2 === void 0 ? void 0 : _names$2.charAt(0)) || ''}`.toUpperCase();\n};\n\n// Форматировать дату\nexport const formatDate = dateString => {\n  if (!dateString) return 'Недавно';\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));\n  if (diffInHours < 1) return 'Только что';\n  if (diffInHours < 24) return `${diffInHours} ч назад`;\n  const diffInDays = Math.floor(diffInHours / 24);\n  if (diffInDays < 7) return `${diffInDays} дн назад`;\n  return date.toLocaleDateString('ru-RU');\n};","map":{"version":3,"names":["getMockUserInfo","userId","console","log","isNaN","Number","warn","mockNames","mockCities","nameIndex","length","cityIndex","mockUser","id","name","username","avatar","city","isOnline","syncUserDataFromProfile","profileData","user","userInfo","first_name","saveUserInfoToStorage","error","getUserInfoFromStorage","storedUsers","localStorage","getItem","users","JSON","parse","find","u","setItem","stringify","getUserInfo","storedUserInfo","response","fetch","headers","status","statusText","ok","data","json","success","basicUserInfo","getUserInitials","userName","_names$","_names$2","names","split","charAt","toUpperCase","formatDate","dateString","date","Date","now","diffInHours","Math","floor","diffInDays","toLocaleDateString"],"sources":["C:/Users/Wlad/OneDrive/Desktop/kwork_site/src/utils/userUtils.js"],"sourcesContent":["// Утилита для работы с пользователями\r\n\r\n// Тестовая функция для получения моковых данных пользователя\r\nexport const getMockUserInfo = (userId) => {\r\n  console.log('Используем моковые данные для пользователя:', userId);\r\n  \r\n  // Проверяем, что userId существует и является числом\r\n  if (!userId || isNaN(Number(userId))) {\r\n    console.warn('Некорректный userId:', userId, 'используем значение по умолчанию');\r\n    userId = 1;\r\n  }\r\n  \r\n  // Создаем более реалистичные моковые данные\r\n  const mockNames = [\r\n    'Анна', 'Мария', 'Елена', 'Ольга', 'Татьяна', 'Наталья', 'Ирина', 'Светлана',\r\n    'Александр', 'Дмитрий', 'Сергей', 'Андрей', 'Алексей', 'Максим', 'Владимир', 'Иван'\r\n  ];\r\n  \r\n  const mockCities = [\r\n    'Москва', 'Санкт-Петербург', 'Новосибирск', 'Екатеринбург', 'Казань', 'Нижний Новгород',\r\n    'Челябинск', 'Самара', 'Ростов-на-Дону', 'Уфа', 'Красноярск', 'Пермь'\r\n  ];\r\n  \r\n  // Генерируем имя на основе ID для консистентности\r\n  const nameIndex = Number(userId) % mockNames.length;\r\n  const cityIndex = Number(userId) % mockCities.length;\r\n  \r\n  const mockUser = {\r\n    id: userId,\r\n    name: mockNames[nameIndex],\r\n    username: `user_${userId}`,\r\n    avatar: null,\r\n    city: mockCities[cityIndex],\r\n    isOnline: false\r\n  };\r\n  \r\n  console.log('Создан моковый пользователь:', mockUser);\r\n  return mockUser;\r\n};\r\n\r\n// Функция для синхронизации данных между страницами\r\nexport const syncUserDataFromProfile = (userId, profileData) => {\r\n  try {\r\n    if (profileData && profileData.user) {\r\n      const user = profileData.user;\r\n      const userInfo = {\r\n        id: userId,\r\n        name: user.first_name || user.username || `Пользователь ${userId}`,\r\n        avatar: user.avatar || null,\r\n        city: user.city || 'Не указан'\r\n      };\r\n      \r\n      console.log('Синхронизируем данные пользователя из профиля:', userInfo);\r\n      console.log('Аватар пользователя:', user.avatar);\r\n      console.log('Имя пользователя:', user.first_name || user.username);\r\n      \r\n      // Сохраняем в localStorage\r\n      saveUserInfoToStorage(userInfo);\r\n      \r\n      return userInfo;\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка при синхронизации данных пользователя:', error);\r\n  }\r\n  return null;\r\n};\r\n\r\n// Функция для получения информации о пользователе из localStorage (если есть)\r\nexport const getUserInfoFromStorage = (userId) => {\r\n  try {\r\n    // Пытаемся найти информацию о пользователе в localStorage\r\n    const storedUsers = localStorage.getItem('userProfiles');\r\n    if (storedUsers) {\r\n      const users = JSON.parse(storedUsers);\r\n      const user = users.find(u => u.id == userId);\r\n      if (user) {\r\n        console.log('Найдена информация о пользователе в localStorage:', user);\r\n        return {\r\n          id: user.id,\r\n          name: user.first_name || user.username || `Пользователь ${userId}`,\r\n          avatar: user.avatar || null,\r\n          city: user.city || 'Не указан'\r\n        };\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка при получении информации из localStorage:', error);\r\n  }\r\n  return null;\r\n};\r\n\r\n// Функция для сохранения информации о пользователе в localStorage\r\nexport const saveUserInfoToStorage = (userInfo) => {\r\n  try {\r\n    const storedUsers = localStorage.getItem('userProfiles') || '{}';\r\n    const users = JSON.parse(storedUsers);\r\n    users[userInfo.id] = userInfo;\r\n    localStorage.setItem('userProfiles', JSON.stringify(users));\r\n    console.log('Информация о пользователе сохранена в localStorage:', userInfo);\r\n  } catch (error) {\r\n    console.error('Ошибка при сохранении в localStorage:', error);\r\n  }\r\n};\r\n\r\n// Получить информацию о пользователе по ID\r\nexport const getUserInfo = async (userId) => {\r\n  try {\r\n    console.log('Получаем информацию о пользователе:', userId);\r\n    \r\n    // Сначала проверяем localStorage\r\n    const storedUserInfo = getUserInfoFromStorage(userId);\r\n    if (storedUserInfo && storedUserInfo.name && storedUserInfo.name !== `Пользователь ${userId}`) {\r\n      console.log('Используем информацию из localStorage:', storedUserInfo);\r\n      return storedUserInfo;\r\n    }\r\n    \r\n    // Делаем API-запрос для получения реальных данных\r\n    console.log('Делаем API-запрос к профилю пользователя...');\r\n    \r\n    // Используем тот же endpoint, что и в UserProfilePage\r\n    const response = await fetch(`http://localhost:8000/api/users/profile-with-posts/${userId}/`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      }\r\n    });\r\n\r\n    console.log('Ответ API профиля:', response.status, response.statusText);\r\n\r\n    if (response.ok) {\r\n      const data = await response.json();\r\n      console.log('Данные профиля пользователя:', data);\r\n      \r\n      if (data.success && data.user) {\r\n        const user = data.user;\r\n        const userInfo = {\r\n          id: userId,\r\n          name: user.first_name || user.username || `Пользователь ${userId}`,\r\n          avatar: user.avatar || null,\r\n          city: user.city || 'Не указан'\r\n        };\r\n        \r\n        console.log('Создана информация о пользователе:', userInfo);\r\n        \r\n        // Сохраняем полученную информацию в localStorage\r\n        saveUserInfoToStorage(userInfo);\r\n        \r\n        return userInfo;\r\n      } else if (data.user) {\r\n        // Если нет поля success, но есть user\r\n        const user = data.user;\r\n        const userInfo = {\r\n          id: userId,\r\n          name: user.first_name || user.username || `Пользователь ${userId}`,\r\n          avatar: user.avatar || null,\r\n          city: user.city || 'Не указан'\r\n        };\r\n        \r\n        console.log('Создана информация о пользователе (без success):', userInfo);\r\n        saveUserInfoToStorage(userInfo);\r\n        \r\n        return userInfo;\r\n      }\r\n    }\r\n    \r\n    // Если API не сработал, возвращаем базовую информацию\r\n    console.log('API не вернул данные, возвращаем базовую информацию');\r\n    const basicUserInfo = {\r\n      id: userId,\r\n      name: `Пользователь ${userId}`,\r\n      avatar: null,\r\n      city: 'Не указан'\r\n    };\r\n    \r\n    return basicUserInfo;\r\n  } catch (error) {\r\n    console.error('Ошибка при получении информации о пользователе:', error);\r\n    console.log('Возвращаем базовую информацию из-за ошибки');\r\n    const basicUserInfo = {\r\n      id: userId,\r\n      name: `Пользователь ${userId}`,\r\n      avatar: null,\r\n      city: 'Не указан'\r\n    };\r\n    return basicUserInfo;\r\n  }\r\n};\r\n\r\n// Получить инициалы пользователя\r\nexport const getUserInitials = (userName) => {\r\n  if (!userName) return 'А';\r\n  const names = userName.split(' ');\r\n  return `${names[0]?.charAt(0) || 'А'}${names[1]?.charAt(0) || ''}`.toUpperCase();\r\n};\r\n\r\n// Форматировать дату\r\nexport const formatDate = (dateString) => {\r\n  if (!dateString) return 'Недавно';\r\n  const date = new Date(dateString);\r\n  const now = new Date();\r\n  const diffInHours = Math.floor((now - date) / (1000 * 60 * 60));\r\n  \r\n  if (diffInHours < 1) return 'Только что';\r\n  if (diffInHours < 24) return `${diffInHours} ч назад`;\r\n  \r\n  const diffInDays = Math.floor(diffInHours / 24);\r\n  if (diffInDays < 7) return `${diffInDays} дн назад`;\r\n  \r\n  return date.toLocaleDateString('ru-RU');\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}