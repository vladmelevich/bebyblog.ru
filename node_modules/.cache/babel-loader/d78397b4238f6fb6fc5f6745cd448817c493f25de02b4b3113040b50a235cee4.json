{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Wlad\\\\OneDrive\\\\Desktop\\\\kwork_site\\\\src\\\\components\\\\BabyBlogChat\\\\BabyBlogChat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft, faEllipsisV, faImage, faPaperPlane, faUser } from '@fortawesome/free-solid-svg-icons';\nimport { apiClient } from '../../utils/api';\nimport './BabyBlogChat.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BabyBlogChat = () => {\n  _s();\n  const {\n    chatId\n  } = useParams();\n  const navigate = useNavigate();\n  const [chat, setChat] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSending, setIsSending] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Загрузка чата\n  const loadChat = async () => {\n    try {\n      setIsLoading(true);\n      const response = await apiClient.request(`/users/chats/${chatId}/`);\n      if (response.success) {\n        setChat(response.chat);\n        setMessages(response.messages || []);\n      } else {\n        console.error('Ошибка загрузки чата:', response.message);\n        navigate('/chats');\n      }\n    } catch (error) {\n      console.error('Ошибка загрузки чата:', error);\n      navigate('/chats');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Отправка сообщения\n  const handleSendMessage = async () => {\n    if (!newMessage.trim() || isSending) return;\n    try {\n      setIsSending(true);\n      const response = await apiClient.request(`/users/chats/${chatId}/messages/`, {\n        method: 'POST',\n        body: JSON.stringify({\n          content: newMessage.trim(),\n          message_type: 'text'\n        })\n      });\n      if (response.success) {\n        setNewMessage('');\n        // Обновляем список сообщений\n        loadChat();\n      } else {\n        console.error('Ошибка отправки сообщения:', response.message);\n      }\n    } catch (error) {\n      console.error('Ошибка отправки сообщения:', error);\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  // Обработка нажатия Enter\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  // Автоскролл к последнему сообщению\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    loadChat();\n  }, [chatId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"babyblog-chat\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-loading\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0447\\u0430\\u0442\\u0430...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n  if (!chat) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"babyblog-chat\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-error\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-icon\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faUser\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0427\\u0430\\u0442 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0412\\u043E\\u0437\\u043C\\u043E\\u0436\\u043D\\u043E, \\u0447\\u0430\\u0442 \\u0431\\u044B\\u043B \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D \\u0438\\u043B\\u0438 \\u0443 \\u0432\\u0430\\u0441 \\u043D\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u0430 \\u043A \\u043D\\u0435\\u043C\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-btn\",\n          onClick: () => navigate('/chats'),\n          children: \"\\u0412\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\\u0441\\u044F \\u043A \\u0447\\u0430\\u0442\\u0430\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this);\n  }\n  const otherUser = chat.other_participant;\n  const isOnline = (otherUser === null || otherUser === void 0 ? void 0 : otherUser.is_online) || false;\n  const lastSeen = (otherUser === null || otherUser === void 0 ? void 0 : otherUser.last_seen) || 'давно';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"babyblog-chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-left\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => navigate('/chats'),\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faArrowLeft\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u041F\\u0435\\u0440\\u0435\\u043F\\u0438\\u0441\\u043A\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"user-name\",\n            children: (otherUser === null || otherUser === void 0 ? void 0 : otherUser.first_name) || 'Пользователь'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"user-status\",\n            children: isOnline ? 'В сети' : `Была онлайн: ${lastSeen}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-button\",\n          children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faEllipsisV\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages-container\",\n      children: messages.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-chat\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"empty-title\",\n            children: \"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0439 \\u043D\\u0435\\u0442.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"empty-subtitle\",\n            children: \"\\u0421\\u043E\\u0431\\u0435\\u0441\\u0435\\u0434\\u043D\\u0438\\u043A \\u043D\\u0435 \\u0432\\u0438\\u0434\\u0438\\u0442 \\u044D\\u0442\\u0443 \\u043F\\u0435\\u0440\\u0435\\u043F\\u0438\\u0441\\u043A\\u0443.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"messages-list\",\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${message.sender_name === ((otherUser === null || otherUser === void 0 ? void 0 : otherUser.first_name) || 'Пользователь') ? 'incoming' : 'outgoing'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"message-text\",\n              children: message.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"message-time\",\n              children: new Date(message.created_at).toLocaleTimeString('ru-RU', {\n                hour: '2-digit',\n                minute: '2-digit'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this)\n        }, message.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 15\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"attach-button\",\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: inputRef,\n          value: newMessage,\n          onChange: e => setNewMessage(e.target.value),\n          onKeyPress: handleKeyPress,\n          placeholder: \"\\u0412\\u0430\\u0448\\u0435 \\u0441\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\",\n          className: \"message-input\",\n          rows: \"1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `send-button ${newMessage.trim() ? 'active' : ''}`,\n        onClick: handleSendMessage,\n        disabled: !newMessage.trim() || isSending,\n        children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faPaperPlane\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(BabyBlogChat, \"4nXKmVyrfn2tTm4XJcoValKcZvY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = BabyBlogChat;\nexport default BabyBlogChat;\nvar _c;\n$RefreshReg$(_c, \"BabyBlogChat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","useNavigate","FontAwesomeIcon","faArrowLeft","faEllipsisV","faImage","faPaperPlane","faUser","apiClient","jsxDEV","_jsxDEV","BabyBlogChat","_s","chatId","navigate","chat","setChat","messages","setMessages","newMessage","setNewMessage","isLoading","setIsLoading","isSending","setIsSending","messagesEndRef","inputRef","loadChat","response","request","success","console","error","message","handleSendMessage","trim","method","body","JSON","stringify","content","message_type","handleKeyPress","e","key","shiftKey","preventDefault","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","className","children","fileName","_jsxFileName","lineNumber","columnNumber","icon","onClick","otherUser","other_participant","isOnline","is_online","lastSeen","last_seen","first_name","length","map","sender_name","Date","created_at","toLocaleTimeString","hour","minute","id","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Wlad/OneDrive/Desktop/kwork_site/src/components/BabyBlogChat/BabyBlogChat.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { \r\n  faArrowLeft, \r\n  faEllipsisV, \r\n  faImage, \r\n  faPaperPlane,\r\n  faUser\r\n} from '@fortawesome/free-solid-svg-icons';\r\nimport { apiClient } from '../../utils/api';\r\nimport './BabyBlogChat.css';\r\n\r\nconst BabyBlogChat = () => {\r\n  const { chatId } = useParams();\r\n  const navigate = useNavigate();\r\n  const [chat, setChat] = useState(null);\r\n  const [messages, setMessages] = useState([]);\r\n  const [newMessage, setNewMessage] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSending, setIsSending] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n\r\n  // Загрузка чата\r\n  const loadChat = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const response = await apiClient.request(`/users/chats/${chatId}/`);\r\n      \r\n      if (response.success) {\r\n        setChat(response.chat);\r\n        setMessages(response.messages || []);\r\n      } else {\r\n        console.error('Ошибка загрузки чата:', response.message);\r\n        navigate('/chats');\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка загрузки чата:', error);\r\n      navigate('/chats');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Отправка сообщения\r\n  const handleSendMessage = async () => {\r\n    if (!newMessage.trim() || isSending) return;\r\n\r\n    try {\r\n      setIsSending(true);\r\n      const response = await apiClient.request(`/users/chats/${chatId}/messages/`, {\r\n        method: 'POST',\r\n        body: JSON.stringify({\r\n          content: newMessage.trim(),\r\n          message_type: 'text'\r\n        })\r\n      });\r\n\r\n      if (response.success) {\r\n        setNewMessage('');\r\n        // Обновляем список сообщений\r\n        loadChat();\r\n      } else {\r\n        console.error('Ошибка отправки сообщения:', response.message);\r\n      }\r\n    } catch (error) {\r\n      console.error('Ошибка отправки сообщения:', error);\r\n    } finally {\r\n      setIsSending(false);\r\n    }\r\n  };\r\n\r\n  // Обработка нажатия Enter\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSendMessage();\r\n    }\r\n  };\r\n\r\n  // Автоскролл к последнему сообщению\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadChat();\r\n  }, [chatId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"babyblog-chat\">\r\n        <div className=\"chat-loading\">\r\n          <div className=\"loading-spinner\"></div>\r\n          <p>Загрузка чата...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!chat) {\r\n    return (\r\n      <div className=\"babyblog-chat\">\r\n        <div className=\"chat-error\">\r\n          <div className=\"error-icon\">\r\n            <FontAwesomeIcon icon={faUser} />\r\n          </div>\r\n          <h3>Чат не найден</h3>\r\n          <p>Возможно, чат был удален или у вас нет доступа к нему</p>\r\n          <button className=\"back-btn\" onClick={() => navigate('/chats')}>\r\n            Вернуться к чатам\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const otherUser = chat.other_participant;\r\n  const isOnline = otherUser?.is_online || false;\r\n  const lastSeen = otherUser?.last_seen || 'давно';\r\n\r\n  return (\r\n    <div className=\"babyblog-chat\">\r\n      {/* Заголовок чата */}\r\n      <div className=\"chat-header\">\r\n        <div className=\"header-left\">\r\n          <button className=\"back-button\" onClick={() => navigate('/chats')}>\r\n            <FontAwesomeIcon icon={faArrowLeft} />\r\n            <span>Переписки</span>\r\n          </button>\r\n        </div>\r\n        \r\n        <div className=\"header-center\">\r\n          <div className=\"user-info\">\r\n            <h2 className=\"user-name\">{otherUser?.first_name || 'Пользователь'}</h2>\r\n            <p className=\"user-status\">\r\n              {isOnline ? 'В сети' : `Была онлайн: ${lastSeen}`}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"header-right\">\r\n          <button className=\"menu-button\">\r\n            <FontAwesomeIcon icon={faEllipsisV} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Область сообщений */}\r\n      <div className=\"messages-container\">\r\n        {messages.length === 0 ? (\r\n          <div className=\"empty-chat\">\r\n            <div className=\"empty-message\">\r\n              <p className=\"empty-title\">Сообщений нет.</p>\r\n              <p className=\"empty-subtitle\">Собеседник не видит эту переписку.</p>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"messages-list\">\r\n            {messages.map((message) => (\r\n              <div \r\n                key={message.id} \r\n                className={`message ${message.sender_name === (otherUser?.first_name || 'Пользователь') ? 'incoming' : 'outgoing'}`}\r\n              >\r\n                <div className=\"message-content\">\r\n                  <p className=\"message-text\">{message.content}</p>\r\n                  <span className=\"message-time\">\r\n                    {new Date(message.created_at).toLocaleTimeString('ru-RU', {\r\n                      hour: '2-digit',\r\n                      minute: '2-digit'\r\n                    })}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Поле ввода сообщения */}\r\n      <div className=\"input-container\">\r\n        <button className=\"attach-button\">\r\n          <FontAwesomeIcon icon={faImage} />\r\n        </button>\r\n        \r\n        <div className=\"input-wrapper\">\r\n          <textarea\r\n            ref={inputRef}\r\n            value={newMessage}\r\n            onChange={(e) => setNewMessage(e.target.value)}\r\n            onKeyPress={handleKeyPress}\r\n            placeholder=\"Ваше сообщение\"\r\n            className=\"message-input\"\r\n            rows=\"1\"\r\n          />\r\n        </div>\r\n        \r\n        <button \r\n          className={`send-button ${newMessage.trim() ? 'active' : ''}`}\r\n          onClick={handleSendMessage}\r\n          disabled={!newMessage.trim() || isSending}\r\n        >\r\n          <FontAwesomeIcon icon={faPaperPlane} />\r\n          <span>Отправить</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BabyBlogChat;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}